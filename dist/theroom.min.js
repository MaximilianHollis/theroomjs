/*
* TheRoom JS v1.0.1
* A vanilla javascript plugin that allows you to outline dom elements like web inspectors.
* Works with Chrome, Firefox, Safari, Internet Explorer and Edge
*
* Author:
* Huseyin Elmas <hsynlms47@gmail.com>
*/
!function(e,t){var n,o,r,i,a,c,l,s,p,u;e.theRoom=(n=e,o=t,r={inspector:null,namespace:"theroom",bgcolor:"rgba(255,0,0,0.5)",transitionSpeed:200,useInline:!0,showInfo:!0,onStart:null,onStarting:null,onStop:null,onStopping:null,onClick:null,exceptions:["head","meta","link","style","title","script"]},i={objectToCss:function(e){var t="";if("object"==typeof e&&e){for(var n in t+="{",e)e.hasOwnProperty(n)&&e[n]&&(t+=n+": "+e[n]+";");t+="}"}return t}},a=function(){return r.inspector||(r.inspector=l()),r.inspector},c=function(e,t,n,o){var a={transition:"all "+r.transitionSpeed+"ms",position:"absolute",top:(e||0)+"px",left:(t||0)+"px",width:(n||0)+"px",height:(o||0)+"px","pointer-events":"none","z-index":"2147483647","background-color":r.bgcolor};return i.objectToCss(a)},l=function(){var e=o.createElement("div");e.id=r.namespace;var t=c();if("boolean"==typeof r.useInline&&r.useInline)e.style=t.replace(/(\{|\})/g,"");else{var n=o.createElement("style");n.type="text/css",t="#"+r.namespace+t,n.styleSheet?n.styleSheet.cssText=t:n.appendChild(o.createTextNode(t)),o.getElementsByTagName("head")[0].appendChild(n)}return o.getElementsByTagName("body")[0].appendChild(e),e},s=function(e){var t=e.target;if(t.id!==r.namespace)switch(e.type){case"click":u("onClick",t);break;case"mouseover":var i=t.getBoundingClientRect(),a=n.scrollY||o.documentElement.scrollTop,l=i.width,s=i.height,p=Math.max(0,i.top+a),d=i.left,f=c(p,d,l,s).replace(/(\{|\})/g,"");r.inspector.setAttribute("style",f)}},p=function(e){if(e){switch(e){case"start":o.querySelector("body").addEventListener("click",s);break;case"stop":o.querySelector("body").removeEventListener("click",s)}for(var t=function(){var e="*";if(r.exceptions.length)for(var t=0;t<r.exceptions.length;t++)e+=":not("+r.exceptions[t]+")";return e}(),n=o.querySelectorAll(t),i=0;i<n.length;i++)"stop"===e?n[i].removeEventListener("mouseover",s):"start"===e&&n[i].addEventListener("mouseover",s)}},u=function(e,t){if(r[e]&&"function"==typeof r[e])switch(e){case"onStart":r.onStart.call();break;case"onStarting":r.onStarting.call();break;case"onStop":r.onStop.call();break;case"onStopping":r.onStopping.call();break;case"onClick":r.onClick.call(void 0,t)}},{start:function(e){!function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])}(e),u("onStarting"),a(),p("start"),u("onStart")},stop:function(){u("onStopping"),p("stop"),a().remove(),r.inspector=null,u("onStop")}})}(window,document);

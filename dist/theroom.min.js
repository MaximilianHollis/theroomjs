/*
* TheRoom JS v1.0.1
* A vanilla javascript plugin that allows you to outline dom elements like web inspectors.
* Works with Chrome, Firefox, Safari, Internet Explorer and Edge
*
* Author:
* Huseyin Elmas <hsynlms47@gmail.com>
*/
!function(e,t){var n,o,r,a,i,s,c,l,p,u;e.theRoom=(n=e,o=t,r={inspector:null,namespace:"theroom",bgcolor:"rgba(255,0,0,0.5)",transitionSpeed:200,useInline:!0,showInfo:!0,template:"",onStart:null,onStarting:null,onStop:null,onStopping:null,onClick:null,exceptions:["head","meta","link","style","title","script"]},a={objectToCss:function(e){var t="";if("object"==typeof e&&e){for(var n in t+="{",e)e.hasOwnProperty(n)&&e[n]&&(t+=n+": "+e[n]+";");t+="}"}return t}},i=function(){return r.inspector||(r.inspector=c()),r.inspector},s=function(e,t,n,o){var i={transition:"all "+r.transitionSpeed+"ms",position:"absolute",top:(e||0)+"px",left:(t||0)+"px",width:(n||0)+"px",height:(o||0)+"px","pointer-events":"none","z-index":"2147483647","background-color":r.bgcolor};return a.objectToCss(i)},c=function(){var e=o.createElement("div");e.id=r.namespace;var t=s();if("boolean"==typeof r.useInline&&r.useInline)e.style=t.replace(/(\{|\})/g,"");else{var n=o.createElement("style");n.type="text/css",t="#"+r.namespace+t,n.styleSheet?n.styleSheet.cssText=t:n.appendChild(o.createTextNode(t)),o.getElementsByTagName("head")[0].appendChild(n)}return o.getElementsByTagName("body")[0].appendChild(e),e},l=function(e){var t=e.target;if(t.id!==r.namespace)switch(e.type){case"click":u("onClick",t);break;case"mouseover":var a=t.getBoundingClientRect(),i=n.scrollY||o.documentElement.scrollTop,c=a.width,l=a.height,p=Math.max(0,a.top+i),f=a.left,m=s(p,f,c,l).replace(/(\{|\})/g,"");if(r.inspector.setAttribute("style",m),"boolean"==typeof r.showInfo&&r.showInfo){var d=r.inspector.querySelector("#"+r.namespace+"-info");d&&(d.querySelector("#"+r.namespace+"-tag").innerText=t.tagName,t.id&&(d.querySelector("#"+r.namespace+"-id").innerText="#"+t.id),t.className&&(d.querySelector("#"+r.namespace+"-class").innerText="."+t.className.split(/\s+/).join(".")))}}},p=function(e){if(e){switch(e){case"start":o.querySelector("body").addEventListener("click",l),"boolean"==typeof r.showInfo&&r.showInfo&&"string"==typeof r.template&&r.template&&(r.inspector.innerHTML=r.template);break;case"stop":o.querySelector("body").removeEventListener("click",l)}for(var t=function(){var e="*";if(r.exceptions.length)for(var t=0;t<r.exceptions.length;t++)e+=":not("+r.exceptions[t]+")";return e}(),n=o.querySelectorAll(t),a=0;a<n.length;a++)"stop"===e?n[a].removeEventListener("mouseover",l):"start"===e&&n[a].addEventListener("mouseover",l)}},u=function(e,t){if(r[e]&&"function"==typeof r[e])switch(e){case"onStart":r.onStart.call();break;case"onStarting":r.onStarting.call();break;case"onStop":r.onStop.call();break;case"onStopping":r.onStopping.call();break;case"onClick":r.onClick.call(void 0,t)}},{start:function(e){!function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])}(e),u("onStarting"),i(),p("start"),u("onStart")},stop:function(){u("onStopping"),p("stop"),i().remove(),r.inspector=null,u("onStop")}})}(window,document);
